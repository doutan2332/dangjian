{"ast":null,"code":"import axios from 'axios';\nimport router from \"@/router\";\nimport Element from 'element-ui';\n\n// axios.defaults.baseURL = 'http://124.223.28.171:8888'\naxios.defaults.baseURL = 'http://127.0.0.1:9999';\n\n//设置axios请求数据格式\nconst request = axios.create({\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8'\n  }\n});\n//axios请求前置拦截\nrequest.interceptors.request.use(config => {\n  config.headers['Authorization'] = localStorage.getItem('token');\n  return config;\n});\n//axios请求后置拦截\nrequest.interceptors.response.use(response => {\n  console.log(\"response的数据->\" + response.data.message);\n  let res = response.data;\n  if (res.code === 200) {\n    return response;\n  } else {\n    Element.Message.error(res.message ? res.message : '系统异常', {\n      duration: 3000\n    });\n    return Promise.reject(response.data.message);\n  }\n}, error => {\n  console.log(\"请求后置错误信息\", error);\n  if (error.response.data) {\n    error.message = error.response.data.message;\n  }\n  if (error.response.status === 401) {\n    router.push('/login');\n  }\n  Element.Message.error(error.message, {\n    duration: 3000\n  });\n  return Promise.reject(error);\n});\nexport default request;","map":{"version":3,"names":["axios","router","Element","defaults","baseURL","request","create","timeout","headers","interceptors","use","config","localStorage","getItem","response","console","log","data","message","res","code","Message","error","duration","Promise","reject","status","push"],"sources":["/Users/wulinxin/Desktop/2024056950参赛总文件/2024056950-02素材与源码/2024056950管理后台代码/vueadmin-vue/vueadmin-vue/src/axios.js"],"sourcesContent":["import axios from 'axios'\r\nimport router from \"@/router\";\r\nimport Element from 'element-ui'\r\n\r\n// axios.defaults.baseURL = 'http://124.223.28.171:8888'\r\naxios.defaults.baseURL = 'http://127.0.0.1:9999'\r\n\r\n//设置axios请求数据格式\r\nconst request = axios.create({\r\n    timeout: 5000,\r\n    headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n    }\r\n})\r\n//axios请求前置拦截\r\nrequest.interceptors.request.use(config => {\r\n    config.headers['Authorization'] = localStorage.getItem('token')\r\n    return config\r\n})\r\n//axios请求后置拦截\r\nrequest.interceptors.response.use(response => {\r\n    console.log(\"response的数据->\"+response.data.message)\r\n    let res = response.data\r\n\r\n    if(res.code === 200) {\r\n        return response\r\n    }else {\r\n        Element.Message.error(res.message?res.message:'系统异常',{duration: 3000})\r\n        return Promise.reject(response.data.message)\r\n    }\r\n},error => {\r\n    console.log(\"请求后置错误信息\",error)\r\n    if(error.response.data) {\r\n        error.message = error.response.data.message\r\n    }\r\n\r\n    if(error.response.status === 401) {\r\n        router.push('/login')\r\n    }\r\n    Element.Message.error(error.message,{duration: 3000})\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default request\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,OAAO,MAAM,YAAY;;AAEhC;AACAF,KAAK,CAACG,QAAQ,CAACC,OAAO,GAAG,uBAAuB;;AAEhD;AACA,MAAMC,OAAO,GAAGL,KAAK,CAACM,MAAM,CAAC;EACzBC,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AACF;AACAH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAACC,MAAM,IAAI;EACvCA,MAAM,CAACH,OAAO,CAAC,eAAe,CAAC,GAAGI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC/D,OAAOF,MAAM;AACjB,CAAC,CAAC;AACF;AACAN,OAAO,CAACI,YAAY,CAACK,QAAQ,CAACJ,GAAG,CAACI,QAAQ,IAAI;EAC1CC,OAAO,CAACC,GAAG,CAAC,eAAe,GAACF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC;EAClD,IAAIC,GAAG,GAAGL,QAAQ,CAACG,IAAI;EAEvB,IAAGE,GAAG,CAACC,IAAI,KAAK,GAAG,EAAE;IACjB,OAAON,QAAQ;EACnB,CAAC,MAAK;IACFZ,OAAO,CAACmB,OAAO,CAACC,KAAK,CAACH,GAAG,CAACD,OAAO,GAACC,GAAG,CAACD,OAAO,GAAC,MAAM,EAAC;MAACK,QAAQ,EAAE;IAAI,CAAC,CAAC;IACtE,OAAOC,OAAO,CAACC,MAAM,CAACX,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC;EAChD;AACJ,CAAC,EAACI,KAAK,IAAI;EACPP,OAAO,CAACC,GAAG,CAAC,UAAU,EAACM,KAAK,CAAC;EAC7B,IAAGA,KAAK,CAACR,QAAQ,CAACG,IAAI,EAAE;IACpBK,KAAK,CAACJ,OAAO,GAAGI,KAAK,CAACR,QAAQ,CAACG,IAAI,CAACC,OAAO;EAC/C;EAEA,IAAGI,KAAK,CAACR,QAAQ,CAACY,MAAM,KAAK,GAAG,EAAE;IAC9BzB,MAAM,CAAC0B,IAAI,CAAC,QAAQ,CAAC;EACzB;EACAzB,OAAO,CAACmB,OAAO,CAACC,KAAK,CAACA,KAAK,CAACJ,OAAO,EAAC;IAACK,QAAQ,EAAE;EAAI,CAAC,CAAC;EACrD,OAAOC,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAejB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}